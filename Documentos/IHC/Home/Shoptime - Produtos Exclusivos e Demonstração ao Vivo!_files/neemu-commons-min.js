function NeemuCommonsClass(){this.BASE_URL=undefined;this.init=function(){this.BASE_URL=this.getBaseUrl()};this.onlyNumbers=function(e){var key=(window.event)?event.keyCode:e.which;if((key>47&&key<58)){return true}else{return(key==8||key==0)?true:false}};this.parseFloat=function(value,decimals){if(typeof(decimals)=="undefined"){decimals=2}return parseFloat((value.replace(/\./g,"",value)).replace(",",".",value)).toFixed(decimals)};this.unserialize=function(data){var that=this,utf8Overhead=function(chr){var code=chr.charCodeAt(0);if(code<128){return 0}if(code<2048){return 1}return 2},error=function(type,msg,filename,line){throw new that.window[type](msg,filename,line)},read_until=function(data,offset,stopchr){var i=2,buf=[],chr=data.slice(offset,offset+1);while(chr!=stopchr){if((i+offset)>data.length){error("Error","Invalid")}buf.push(chr);chr=data.slice(offset+(i-1),offset+i);i+=1}return[buf.length,buf.join("")]},read_chrs=function(data,offset,length){var i,chr,buf;buf=[];for(i=0;i<length;i++){chr=data.slice(offset+(i-1),offset+i);buf.push(chr);length-=utf8Overhead(chr)}return[buf.length,buf.join("")]},_unserialize=function(data,offset){var dtype,dataoffset,keyandchrs,keys,readdata,readData,ccount,stringlength,i,key,kprops,kchrs,vprops,vchrs,value,chrs=0,typeconvert=function(x){return x};if(!offset){offset=0}dtype=(data.slice(offset,offset+1)).toLowerCase();dataoffset=offset+2;switch(dtype){case"i":typeconvert=function(x){return parseInt(x,10)};readData=read_until(data,dataoffset,";");chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case"b":typeconvert=function(x){return parseInt(x,10)!==0};readData=read_until(data,dataoffset,";");chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case"d":typeconvert=function(x){return parseFloat(x)};readData=read_until(data,dataoffset,";");chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case"n":readdata=null;break;case"s":ccount=read_until(data,dataoffset,":");chrs=ccount[0];stringlength=ccount[1];dataoffset+=chrs+2;readData=read_chrs(data,dataoffset+1,parseInt(stringlength,10));chrs=readData[0];readdata=readData[1];dataoffset+=chrs+2;if(chrs!=parseInt(stringlength,10)&&chrs!=readdata.length){error("SyntaxError","String length mismatch")}break;case"a":readdata={};keyandchrs=read_until(data,dataoffset,":");chrs=keyandchrs[0];keys=keyandchrs[1];dataoffset+=chrs+2;for(i=0;i<parseInt(keys,10);i++){kprops=_unserialize(data,dataoffset);kchrs=kprops[1];key=kprops[2];dataoffset+=kchrs;vprops=_unserialize(data,dataoffset);vchrs=vprops[1];value=vprops[2];dataoffset+=vchrs;readdata[key]=value}dataoffset+=1;break;default:error("SyntaxError","Unknown / Unhandled data type(s): "+dtype);break}return[dtype,dataoffset-offset,typeconvert(readdata)]};return _unserialize((data+""),0)[2]};this.json_decode=function(str_json){var json=this.window.JSON;if(typeof json==="object"&&typeof json.parse==="function"){try{return json.parse(str_json)}catch(err){if(!(err instanceof SyntaxError)){throw new Error("Unexpected error type in json_decode()")}this.php_js=this.php_js||{};this.php_js.last_error_json=4;return null}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var j;var text=str_json;cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if((/^[\],:{}\s]*$/).test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return j}this.php_js=this.php_js||{};this.php_js.last_error_json=4;return null};this.strstr=function(haystack,needle,bool){var pos=0;haystack+="";pos=haystack.indexOf(needle);if(pos==-1){return false}else{if(bool){return haystack.substr(0,pos)}else{return haystack.slice(pos)}}};this.number_format=function(number,decimals,dec_point,thousands_sep){number=(number+"").replace(/[^0-9+\-Ee.]/g,"");var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==="undefined")?",":thousands_sep,dec=(typeof dec_point==="undefined")?".":dec_point,s="",toFixedFix=function(n,prec){var k=Math.pow(10,prec);return""+Math.round(n*k)/k};s=(prec?toFixedFix(n,prec):""+Math.round(n)).split(".");if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)}if((s[1]||"").length<prec){s[1]=s[1]||"";s[1]+=new Array(prec-s[1].length+1).join("0")}return s.join(dec)};this.basename=function(path,suffix){var b=path.replace(/^.*[\/\\]/g,"");if(typeof(suffix)=="string"&&b.substr(b.length-suffix.length)==suffix){b=b.substr(0,b.length-suffix.length)}return b};this.pathinfo=function(path,options){var opt="",optName="",optTemp=0,tmp_arr={},cnt=0,i=0;var have_basename=false,have_extension=false,have_filename=false;if(!path){return false}if(!options){options="PATHINFO_ALL"}var OPTS={PATHINFO_DIRNAME:1,PATHINFO_BASENAME:2,PATHINFO_EXTENSION:4,PATHINFO_FILENAME:8,PATHINFO_ALL:0};for(optName in OPTS){OPTS.PATHINFO_ALL=OPTS.PATHINFO_ALL|OPTS[optName]}if(typeof options!=="number"){options=[].concat(options);for(i=0;i<options.length;i++){if(OPTS[options[i]]){optTemp=optTemp|OPTS[options[i]]}}options=optTemp}var __getExt=function(path){var str=path+"";var dotP=str.lastIndexOf(".")+1;return !dotP?false:dotP!==str.length?str.substr(dotP):""};if(options&OPTS.PATHINFO_DIRNAME){var dirname=this.dirname(path);tmp_arr.dirname=dirname===path?".":dirname}if(options&OPTS.PATHINFO_BASENAME){if(false===have_basename){have_basename=this.basename(path)}tmp_arr.basename=have_basename}if(options&OPTS.PATHINFO_EXTENSION){if(false===have_basename){have_basename=this.basename(path)}if(false===have_extension){have_extension=__getExt(have_basename)}if(false!==have_extension){tmp_arr.extension=have_extension}}if(options&OPTS.PATHINFO_FILENAME){if(false===have_basename){have_basename=this.basename(path)}if(false===have_extension){have_extension=__getExt(have_basename)}if(false===have_filename){have_filename=have_basename.slice(0,have_basename.length-(have_extension?have_extension.length+1:have_extension===false?0:1))}tmp_arr.filename=have_filename}cnt=0;for(opt in tmp_arr){cnt++}if(cnt==1){return tmp_arr[opt]}return tmp_arr};this.fadeHtml=function(selector,message,speedIn,speedOut){if(typeof(speedIn)==undefined){speedIn=150}if(typeof(speedOut)==undefined){speedOut=150}$(selector).fadeOut(speedIn,function(){$(this).html(message).fadeIn(speedOut)})};this.loadFile=function(filesrc,filetype,locationhtml,callback){var fileref=undefined;if(filetype=="js"){fileref=window.document.createElement("script");fileref.setAttribute("type","text/javascript");fileref.setAttribute("src",filesrc)}else{if(filetype=="css"){fileref=window.document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("type","text/css");fileref.setAttribute("href",filesrc)}}if(fileref!==undefined){fileref.onload=fileref.onreadystatechange=function(){callback()};window.document.getElementsByTagName(locationhtml)[0].appendChild(fileref)}};this.getBaseUrl=function(){var url=window.location.href;var baseURL=url.substring(0,url.indexOf("/",14));if(baseURL.indexOf("http://localhost")!=-1){var url=window.location.href;var pathname=window.location.pathname;var index1=url.indexOf(pathname);var index2=url.indexOf("/",index1+1);var baseLocalUrl=url.substr(0,index2);return baseLocalUrl+"/"}else{return baseURL+"/"}};this.correctionRatingURL=function(ratingURL){var oldval=this.pathinfo(ratingURL,"PATHINFO_FILENAME"),newval=undefined;newval=oldval.replace(",","_").replace(".","_");return ratingURL.replace(oldval,newval)};this.md5=function(str){var xl;var rotateLeft=function(lValue,iShiftBits){return(lValue<<iShiftBits)|(lValue>>>(32-iShiftBits))};var addUnsigned=function(lX,lY){var lX4,lY4,lX8,lY8,lResult;lX8=(lX&2147483648);lY8=(lY&2147483648);lX4=(lX&1073741824);lY4=(lY&1073741824);lResult=(lX&1073741823)+(lY&1073741823);if(lX4&lY4){return(lResult^2147483648^lX8^lY8)}if(lX4|lY4){if(lResult&1073741824){return(lResult^3221225472^lX8^lY8)}else{return(lResult^1073741824^lX8^lY8)}}else{return(lResult^lX8^lY8)}};var _F=function(x,y,z){return(x&y)|((~x)&z)};var _G=function(x,y,z){return(x&z)|(y&(~z))};var _H=function(x,y,z){return(x^y^z)};var _I=function(x,y,z){return(y^(x|(~z)))};var _FF=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_F(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var _GG=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_G(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var _HH=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_H(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var _II=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(_I(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var convertToWordArray=function(str){var lWordCount;var lMessageLength=str.length;var lNumberOfWords_temp1=lMessageLength+8;var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1%64))/64;var lNumberOfWords=(lNumberOfWords_temp2+1)*16;var lWordArray=new Array(lNumberOfWords-1);var lBytePosition=0;var lByteCount=0;while(lByteCount<lMessageLength){lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=(lWordArray[lWordCount]|(str.charCodeAt(lByteCount)<<lBytePosition));lByteCount++}lWordCount=(lByteCount-(lByteCount%4))/4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=lWordArray[lWordCount]|(128<<lBytePosition);lWordArray[lNumberOfWords-2]=lMessageLength<<3;lWordArray[lNumberOfWords-1]=lMessageLength>>>29;return lWordArray};var wordToHex=function(lValue){var wordToHexValue="",wordToHexValue_temp="",lByte,lCount;for(lCount=0;lCount<=3;lCount++){lByte=(lValue>>>(lCount*8))&255;wordToHexValue_temp="0"+lByte.toString(16);wordToHexValue=wordToHexValue+wordToHexValue_temp.substr(wordToHexValue_temp.length-2,2)}return wordToHexValue};var x=[],k,AA,BB,CC,DD,a,b,c,d,S11=7,S12=12,S13=17,S14=22,S21=5,S22=9,S23=14,S24=20,S31=4,S32=11,S33=16,S34=23,S41=6,S42=10,S43=15,S44=21;str=NeemuCommons.neemuBase64._utf8_decode(str);x=convertToWordArray(str);a=1732584193;b=4023233417;c=2562383102;d=271733878;xl=x.length;for(k=0;k<xl;k+=16){AA=a;BB=b;CC=c;DD=d;a=_FF(a,b,c,d,x[k+0],S11,3614090360);d=_FF(d,a,b,c,x[k+1],S12,3905402710);c=_FF(c,d,a,b,x[k+2],S13,606105819);b=_FF(b,c,d,a,x[k+3],S14,3250441966);a=_FF(a,b,c,d,x[k+4],S11,4118548399);d=_FF(d,a,b,c,x[k+5],S12,1200080426);c=_FF(c,d,a,b,x[k+6],S13,2821735955);b=_FF(b,c,d,a,x[k+7],S14,4249261313);a=_FF(a,b,c,d,x[k+8],S11,1770035416);d=_FF(d,a,b,c,x[k+9],S12,2336552879);c=_FF(c,d,a,b,x[k+10],S13,4294925233);b=_FF(b,c,d,a,x[k+11],S14,2304563134);a=_FF(a,b,c,d,x[k+12],S11,1804603682);d=_FF(d,a,b,c,x[k+13],S12,4254626195);c=_FF(c,d,a,b,x[k+14],S13,2792965006);b=_FF(b,c,d,a,x[k+15],S14,1236535329);a=_GG(a,b,c,d,x[k+1],S21,4129170786);d=_GG(d,a,b,c,x[k+6],S22,3225465664);c=_GG(c,d,a,b,x[k+11],S23,643717713);b=_GG(b,c,d,a,x[k+0],S24,3921069994);a=_GG(a,b,c,d,x[k+5],S21,3593408605);d=_GG(d,a,b,c,x[k+10],S22,38016083);c=_GG(c,d,a,b,x[k+15],S23,3634488961);b=_GG(b,c,d,a,x[k+4],S24,3889429448);a=_GG(a,b,c,d,x[k+9],S21,568446438);d=_GG(d,a,b,c,x[k+14],S22,3275163606);c=_GG(c,d,a,b,x[k+3],S23,4107603335);b=_GG(b,c,d,a,x[k+8],S24,1163531501);a=_GG(a,b,c,d,x[k+13],S21,2850285829);d=_GG(d,a,b,c,x[k+2],S22,4243563512);c=_GG(c,d,a,b,x[k+7],S23,1735328473);b=_GG(b,c,d,a,x[k+12],S24,2368359562);a=_HH(a,b,c,d,x[k+5],S31,4294588738);d=_HH(d,a,b,c,x[k+8],S32,2272392833);c=_HH(c,d,a,b,x[k+11],S33,1839030562);b=_HH(b,c,d,a,x[k+14],S34,4259657740);a=_HH(a,b,c,d,x[k+1],S31,2763975236);d=_HH(d,a,b,c,x[k+4],S32,1272893353);c=_HH(c,d,a,b,x[k+7],S33,4139469664);b=_HH(b,c,d,a,x[k+10],S34,3200236656);a=_HH(a,b,c,d,x[k+13],S31,681279174);d=_HH(d,a,b,c,x[k+0],S32,3936430074);c=_HH(c,d,a,b,x[k+3],S33,3572445317);b=_HH(b,c,d,a,x[k+6],S34,76029189);a=_HH(a,b,c,d,x[k+9],S31,3654602809);d=_HH(d,a,b,c,x[k+12],S32,3873151461);c=_HH(c,d,a,b,x[k+15],S33,530742520);b=_HH(b,c,d,a,x[k+2],S34,3299628645);a=_II(a,b,c,d,x[k+0],S41,4096336452);d=_II(d,a,b,c,x[k+7],S42,1126891415);c=_II(c,d,a,b,x[k+14],S43,2878612391);b=_II(b,c,d,a,x[k+5],S44,4237533241);a=_II(a,b,c,d,x[k+12],S41,1700485571);d=_II(d,a,b,c,x[k+3],S42,2399980690);c=_II(c,d,a,b,x[k+10],S43,4293915773);b=_II(b,c,d,a,x[k+1],S44,2240044497);a=_II(a,b,c,d,x[k+8],S41,1873313359);d=_II(d,a,b,c,x[k+15],S42,4264355552);c=_II(c,d,a,b,x[k+6],S43,2734768916);b=_II(b,c,d,a,x[k+13],S44,1309151649);a=_II(a,b,c,d,x[k+4],S41,4149444226);d=_II(d,a,b,c,x[k+11],S42,3174756917);c=_II(c,d,a,b,x[k+2],S43,718787259);b=_II(b,c,d,a,x[k+9],S44,3951481745);a=addUnsigned(a,AA);b=addUnsigned(b,BB);c=addUnsigned(c,CC);d=addUnsigned(d,DD)}var temp=wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);return temp.toLowerCase()};this.neemuBase64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){if(input!=undefined){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=NeemuCommons.neemuBase64._utf8_encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else{if(isNaN(chr3)){enc4=64}}output=output+this.neemuBase64._keyStr.charAt(enc1)+this.neemuBase64._keyStr.charAt(enc2)+this.neemuBase64._keyStr.charAt(enc3)+this.neemuBase64._keyStr.charAt(enc4)}return output}else{return undefined}},decode:function(input){if(input!=undefined){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=this.neemuBase64._keyStr.indexOf(input.charAt(i++));enc2=this.neemuBase64._keyStr.indexOf(input.charAt(i++));enc3=this.neemuBase64._keyStr.indexOf(input.charAt(i++));enc4=this.neemuBase64._keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}output=NeemuCommons.neemuBase64._utf8_decode(output);return output}else{return undefined}},_utf8_encode:function(string){if(string!=undefined){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c)}else{if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128)}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128)}}}return utftext}else{return undefined}},_utf8_decode:function(utftext){if(utftext!=undefined){var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else{if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3}}}return string}else{return undefined}}};this.getSessionID=function(){return new Fingerprint(this.md5).get()};this.init()}var NeemuCommons=new NeemuCommonsClass();(function(a){var b=function(d){var c=Array.prototype.forEach;var e=Array.prototype.map;this.each=function(m,k,j){if(m===null){return}if(c&&m.forEach===c){m.forEach(k,j)}else{if(m.length===+m.length){for(var h=0,f=m.length;h<f;h++){if(k.call(j,m[h],h,m)==={}){return}}}else{for(var g in m){if(m.hasOwnProperty(g)){if(k.call(j,m[g],g,m)==={}){return}}}}}};this.map=function(i,h,g){var f=[];if(i==null){return f}if(e&&i.map===e){return i.map(h,g)}this.each(i,function(l,j,k){f[f.length]=h.call(g,l,j,k)});return f};if(d){this.hasher=d}};b.prototype={get:function(){var d=[];d.push(navigator.userAgent);d.push(navigator.language);d.push(screen.colorDepth);d.push(new Date().getTimezoneOffset());d.push(!!window.sessionStorage);d.push(!!window.localStorage);var c=this.map(navigator.plugins,function(f){var e=this.map(f,function(g){return[g.type,g.suffixes].join("~")}).join(",");return[f.name,f.description,e].join("::")},this).join(";");d.push(c);if(this.hasher){return this.hasher(d.join("###"),31)}else{return this.murmurhash3_32_gc(d.join("###"),31)}},murmurhash3_32_gc:function(m,h){var n,o,k,d,g,c,e,l,j,f;n=m.length&3;o=m.length-n;k=h;g=3432918353;e=461845907;f=0;while(f<o){j=((m.charCodeAt(f)&255))|((m.charCodeAt(++f)&255)<<8)|((m.charCodeAt(++f)&255)<<16)|((m.charCodeAt(++f)&255)<<24);++f;j=((((j&65535)*g)+((((j>>>16)*g)&65535)<<16)))&4294967295;j=(j<<15)|(j>>>17);j=((((j&65535)*e)+((((j>>>16)*e)&65535)<<16)))&4294967295;k^=j;k=(k<<13)|(k>>>19);d=((((k&65535)*5)+((((k>>>16)*5)&65535)<<16)))&4294967295;k=(((d&65535)+27492)+((((d>>>16)+58964)&65535)<<16))}j=0;switch(n){case 3:j^=(m.charCodeAt(f+2)&255)<<16;case 2:j^=(m.charCodeAt(f+1)&255)<<8;case 1:j^=(m.charCodeAt(f)&255);j=(((j&65535)*g)+((((j>>>16)*g)&65535)<<16))&4294967295;j=(j<<15)|(j>>>17);j=(((j&65535)*e)+((((j>>>16)*e)&65535)<<16))&4294967295;k^=j}k^=m.length;k^=k>>>16;k=(((k&65535)*2246822507)+((((k>>>16)*2246822507)&65535)<<16))&4294967295;k^=k>>>13;k=((((k&65535)*3266489909)+((((k>>>16)*3266489909)&65535)<<16)))&4294967295;k^=k>>>16;return k>>>0}};a.Fingerprint=b})(window);